services:
  model:
    image: sha256:1918def8eca13f307d8d9fd60df54574a24909466893fe631afd616bd05635b9
    container_name: coruja_model
    stdin_open: true
    tty: true
    gpus: all
    ipc: host
    ulimits:
      memlock: -1
      stack: 134217728    # 128 MiB (aumentado se necess√°rio)
      nofile: 65536       # descritores abertos
    volumes:
      - ./:/app
    working_dir: /app
    user: "${UID}:${GID}"
    environment:
      - PYTHONUNBUFFERED=1
      - NVIDIA_VISIBLE_DEVICES=all
    entrypoint: ["bash"]
